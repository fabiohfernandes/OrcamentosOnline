<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TESTER - Autonomous Stress Testing</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <script src="/socket.io/socket.io.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                    <h1>TESTER - Autonomous Stress Testing</h1>
                </div>
                <div class="header-info">
                    <div class="project-session-info">
                        <div class="info-item">
                            <i class="fas fa-project-diagram"></i>
                            <span id="projectName">Loading...</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-vial"></i>
                            <span id="sessionName">Loading...</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-globe"></i>
                            <span id="targetUrl">Loading...</span>
                        </div>
                    </div>
                    <div class="connection-status" id="connectionStatus">
                        <i class="fas fa-circle"></i>
                        <span>Connecting...</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Dashboard -->
        <main class="dashboard">
            <!-- System Status Section -->
            <section class="system-status glass-card">
                <h2><i class="fas fa-heartbeat"></i> System Status</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-icon" id="databaseStatus">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="status-info">
                            <span class="status-label">Database</span>
                            <span class="status-value" id="databaseStatusText">Healthy</span>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon" id="discoveryStatus">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="status-info">
                            <span class="status-label">Discovery</span>
                            <span class="status-value" id="discoveryStatusText">Not Ready</span>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon" id="stressRunnerStatus">
                            <i class="fas fa-running"></i>
                        </div>
                        <div class="status-info">
                            <span class="status-label">Stress Runner</span>
                            <span class="status-value" id="stressRunnerStatusText">Running</span>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-icon" id="claudeAiStatus">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="status-info">
                            <span class="status-label">Claude AI</span>
                            <span class="status-value" id="claudeAiStatusText">Offline</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Session Status Section -->
            <section class="session-status glass-card">
                <h2><i class="fas fa-chart-line"></i> Session Status</h2>
                <div class="session-grid">
                    <div class="session-info">
                        <div class="info-row">
                            <span class="info-label">Programmed Tests:</span>
                            <span class="info-value" id="totalTests">0</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Virtual Users:</span>
                            <span class="info-value" id="virtualUsers">0</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Claude AutoFix:</span>
                            <span class="info-value" id="claudeMode">Real-time</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Session Time:</span>
                            <span class="info-value" id="sessionTime">00:00:00</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ETA:</span>
                            <span class="info-value" id="estimatedTime">Calculating...</span>
                        </div>
                    </div>
                    <div class="progress-charts">
                        <div class="chart-container">
                            <div class="chart-item">
                                <div class="chart-label">Tests Completed</div>
                                <div class="progress-circle" id="completedProgress">
                                    <div class="progress-value" id="completedPercentage">0%</div>
                                </div>
                            </div>
                            <div class="chart-item">
                                <div class="chart-label">Success Rate</div>
                                <div class="progress-circle success" id="successProgress">
                                    <div class="progress-value" id="successPercentage">0%</div>
                                </div>
                            </div>
                            <div class="chart-item">
                                <div class="chart-label">Failure Rate</div>
                                <div class="progress-circle error" id="failureProgress">
                                    <div class="progress-value" id="failurePercentage">0%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Live Activity Log Section -->
            <section class="activity-log glass-card">
                <h2><i class="fas fa-file-alt"></i> Live Activity Log</h2>
                <div class="log-controls">
                    <button class="btn btn-primary" id="downloadLogBtn">
                        <i class="fas fa-download"></i>
                        Download Log
                    </button>
                </div>
                <div class="log-content" id="logContent">
                    <div class="log-entry">
                        <span class="log-time">--:--:--</span>
                        <span class="log-message">Activity log will appear here during testing...</span>
                    </div>
                </div>
            </section>

            <!-- Issues & Autonomous Fixes Section -->
            <section class="issues-fixes glass-card">
                <h2><i class="fas fa-wrench"></i> Issues & Autonomous Fixes</h2>
                <div class="issues-summary">
                    <div class="summary-item">
                        <div class="summary-count" id="openIssues">0</div>
                        <div class="summary-label">Open</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-count" id="fixedIssues">0</div>
                        <div class="summary-label">Fixed</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-count" id="analyzedIssues">0</div>
                        <div class="summary-label">AI Analyzed</div>
                    </div>
                </div>
                <div class="issues-controls">
                    <button class="btn btn-secondary" id="analyzeAllBtn">
                        <i class="fas fa-brain"></i>
                        Analyze All
                    </button>
                </div>
                <div class="issues-list" id="issuesList">
                    <div class="issue-item example">
                        <div class="issue-priority low">
                            <i class="fas fa-circle"></i>
                        </div>
                        <div class="issue-content">
                            <div class="issue-title">No issues detected yet</div>
                            <div class="issue-description">Issues will appear here during testing</div>
                        </div>
                        <div class="issue-status">
                            <span class="status-badge monitoring">Monitoring</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>